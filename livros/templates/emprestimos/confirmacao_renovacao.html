{% extends "base.html" %}

{% block title %}Confirmar Renovação{% endblock %}

{% block content %}
<div class="page">
    <h1 class="title">Confirmar Renovação de Empréstimo</h1>

    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <div class="card">
        <div class="card-body">
            <p><strong>Livro:</strong> {{ emprestimo.livro.nome }}</p>
            <p><strong>Autor:</strong> {{ emprestimo.livro.autor }}</p>
            <p><strong>Devolução Atual:</strong> {{ emprestimo.data_prevista_devolucao|date:"d/m/Y" }}</p>
            <p class="text-success"><strong>Nova Devolução (Se Renovado):</strong> {{ nova_data_prevista|date:"d/m/Y" }} (+7 dias)</p>
            <hr>
            
            <p>Para confirmar a renovação, digite o ID do livro ({{ livro_id_original }}) abaixo:</p>
            
            <form method="POST">
                {% csrf_token %}
                <div class="form-group" style="max-width:300px;">
                    <label for="id_livro">ID do Livro:</label>
                    <input type="number" 
                           name="livro_id_confirmacao" 
                           id="id_livro" 
                           class="form-control" 
                           required 
                           placeholder="{{ livro_id_original }}"
                           style="max-width: 150px;">
                </div>
                
                <button type="submit" class="btn btn-primary mt-3">Confirmar Renovação</button>
                <a href="{% url 'livros:minha_area_de_emprestimos' %}" class="btn btn-secondary mt-3">Cancelar</a>
            </form>
        </div>
    </div>
</div>
{% endblock %}